{{> common/header }}
                
<!-- ---------- -->
                    <!-- 
                        Add hidden input field for aid
                        Make hidden input field for posted (use posted_machine)
                        Make hidden input field for userid
                     -->
                <div class="v-content" id="v-edit">
                    {{#if msg}}
                        {{{msg}}}
                    {{/if}}
                    <form method="post" action="{{action_url}}" id="insert_form" name="insert_form">
                        <!-- <div class="col-md-7 mx-auto mb-3"> -->
                        <div class="col mb-3">
                            <input name="title" type="text" value="{{body.title}}" maxlength="120" class="v-centered-input v-form-control form-control" id="inputTitle" placeholder="Title">
                        </div>
                         <div class="row">
                            <date class="v-article-date" datetime="{{body.posted_machine}}">{{body.posted_human}}</date>
                                <div class="v-byline"> 
                                     by 
                                    <a href="{{info.base_url}}author/{{body.userid}}/{{body.username}}" class="v-author-link">{{body.username}}</a>
                                </div>
                                <!-- YYYY-MM-DDThh:mm:ssTZD OR PTDHMS -->
                            </div>
                        <div class="form-group">
                            <label for="input_desc" class="v-form-label">Description</label>
                            <textarea class="form-control" name="description" id="insert_desc" maxlength="400" rows="2">{{{body.description}}}</textarea>
                            <!-- <input name="description" type="text" class="v-form-control form-control" maxlength="250" id="insert-desc" placeholder="Description"> -->
                        </div>
                        <div class="form-group">
                            <label for="input_body" class="v-form-label">Contents</label>
                            <textarea class="form-control" name="body" id="insert_body" rows="3">{{{body.body}}}</textarea>
                        </div>
                        <div class="col-md-8 mx-auto">
                            <label for="insert-tags" class="v-center-label v-form-label">Tags -Comma Separated</label>
                                <input name="tags" type="text" value="{{#each body.tags}}{{this}},{{/each}}" maxlength="250" class="v-centered-input v-form-control form-control" id="insert-tags" placeholder="Tags">
                                <div class="v-form-message" id="tag-msg">
                                    Did you mean to <b>Comma Separate</b> the tags?
                                </div>
                        </div>
                        <input type="hidden" name="aid" value="{{body.aid}}">
                        <input type="hidden" name="posted" value="{{body.posted_machine}}">
                        <input type="hidden" name="userid" value="{{body.userid}}">
                        <input type="hidden" name="username" value="{{body.username}}">
                        <div class="row">
                            <div class="col-auto">
                                <button onclick="return confirm_action('This will reset the article to the original state, all changes that have been made since saving will be lost.  Are you sure you want to continue?');" type="reset" class="btn btn-danger" value="Reset">Reset</button>
                            </div>
                            <div class="col v-centered-text">
                                <button id="preview-edit-start" type="button" class="btn btn-success">Preview</button>
                            </div>
                            <div class="col-auto">
                                <button type="submit" class="btn btn-primary">Save Article</button>
                            </div>
                        
                            <!-- <div class="v-submit"></div> -->
                        </div>
                    </form>
                    
                    <div class="start-hidden">
                        <input type="hidden" id="base_url" value="{{info.base_url}}">
                    </div>
                    
                    <!-- 
                    <div class="start-hidden" id="v-edit-preview">
                        <div class="col mb-3">
                            <input name="title" type="text" maxlength="120" class="v-centered-input v-form-control form-control" id="prev-inputTitle" placeholder="Title">
                        </div>
                        <div class="form-group">
                            <label for="prev-input_desc" class="v-form-label">Description</label>
                            <textarea class="form-control" name="description" id="prev-insert_desc" maxlength="400" rows="2"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="prev-input_body" class="v-form-label">Contents</label>
                            <textarea class="form-control" name="body" id="prev-insert_body" rows="3"></textarea>
                        </div>
                        <div class="col-md-8 mx-auto">
                            <label for="prev-insert-tags" class="v-center-label v-form-label">Tags -Comma Separated</label>
                                <input name="tags" type="text" maxlength="250" class="v-centered-input v-form-control form-control" id="prev-insert-tags" placeholder="Tags">
                                <div class="v-form-message" id="prev-tag-msg">
                                    Did you mean to <b>Comma Separate</b> the tags?
                                </div>
                        </div>
                        <div class="v-submit">
                            <button type="submit" class="btn btn-primary">Create Article</button>
                        </div>
                    </div>
                    -->
                    
                    <script>
                        StartText();
                    </script>
                    

                </div>
                
                <article id="v-edit-preview" class="start-hidden v-article v-article-signle">
                    <header class="v-article-header">
                        <h2 class="v-article-title"><a id="prev-title" href="{{info.base_url}}article/{{body.aid}}/{{body.title}}">{{body.title}}</a></h2>
                        <div class="row">
                            <date class="v-article-date" datetime="{{body.posted_machine}}">{{body.posted_human}}</date> 
                            <div class="v-byline"> 
                                 by 
                                <a href="{{info.base_url}}author/{{body.userid}}/{{body.username}}" class="v-author-link">{{body.username}}</a>
                            </div>
                            <!-- YYYY-MM-DDThh:mm:ssTZD OR PTDHMS -->
                        </div>
                    </header>
                    <div id="prev-desc">
                        {{{body.description}}}
                    </div>
                    <hr class="preview-divider">
                    <div id="prev-body">
                    <p>
                        {{{body.body}}}
                    </p>
                    </div>
                    <div id="prev-tags" class="v-article-tags">
                        {{#each body.tags}}
                        <a href="{{../info.base_url}}tag?tag={{this}}">{{this}}</a>
                        {{/each}}
                    </div>
                    
                    <!-- <div class="v-right-text"> -->
                    <div class="v-centered-text">
                        <button id="preview-edit-end" type="button" class="btn btn-success">End Preview</button>
                    </div>
                </article>
                
<!-- ---------- -->
                
{{> common/footer }}